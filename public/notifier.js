window.J$B_M0D=window.J$B_M0D={createStyle:function(){var t=".notification {position: fixed;top: -100px;right: 20px;width: 300px;padding: 16px;background-color: #4CAF50;color: #fff;border-radius: 4px;box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);opacity: 0;z-index: 9999;transition: top 0.3s, opacity 0.3s;}";t+=".notification.show {top: 20px;opacity: 1;}",t+=".close-btn {float: right;font-size: 18px;font-weight: bold;cursor: pointer;}",t+=".close-btn {float: right;font-size: 18px;font-weight: bold;cursor: pointer;}",t+=".close-btn:hover {color: #eee;}",t+=".kht *, .kht *:before, .kht *:after { box-sizing: border-box; } .kht .modal-container { display:none; margin: 0 auto; padding-top: 60px; position: relative; width: 160px; } .kht .modal-container button { display: block; margin: 0 auto; color: #fff; width: 160px; height: 50px; line-height: 50px; background: #446CB3; font-size: 22px; border: 0; border-radius: 3px; box-shadow: 0 5px 5px -5px #333; transition: background 0.3s ease-in; } .kht .modal-container .modal-backdrop { height: 0; width: 0; opacity: 0; overflow: hidden; transition: opacity 0.2s ease-in; } .kht .modal-container #modal-toggle { position: absolute; left: 0; top: 0; height: 100%; width: 100%; margin: 0; opacity: 0; cursor: pointer; } .kht .modal-container #modal-toggle:hover ~ button { background: #1E824C; } .kht .modal-container #modal-toggle:checked { width: 100vw; height: 100vh; position: fixed; left: 0; top: 0; z-index: 9; opacity: 0; } .kht .modal-container #modal-toggle:checked ~ .modal-backdrop { background-color: rgba(0, 0, 0, 0.6); width: 100vw; height: 100vh; position: fixed; left: 0; top: 0; z-index: 9; pointer-events: none; opacity: 1; } .kht .modal-container #modal-toggle:checked ~ .modal-backdrop .modal-content { background-color: #fff; max-width: 400px; width: 100%; height: auto; padding: 10px 30px; position: absolute; left: calc(50% - 200px); top: 12%; border-radius: 4px; z-index: 999; pointer-events: auto; cursor: auto; box-shadow: 0 3px 7px rgba(0, 0, 0, 0.6); } @media (max-width: 400px) { .kht .modal-container #modal-toggle:checked ~ .modal-backdrop .modal-content { left: 0; } } .kht .modal-container #modal-toggle:checked ~ .modal-backdrop .modal-content .modal-close { color: #666; position: absolute; right: 2px; top: 0; padding-top: 7px; background: #fff; font-size: 16px; width: 25px; height: 28px; font-weight: bold; text-align: center; cursor: pointer; } .kht .modal-container #modal-toggle:checked ~ .modal-backdrop .modal-content .modal-close.button { top: initial; bottom: 5px; right: 20px; background: #4CAF50; color: #fff; width: 50px; border-radius: 2px; font-size: 14px; font-weight: normal; } .kht .modal-container #modal-toggle:checked ~ .modal-backdrop .modal-content .modal-close.button:hover { color: #fff; background: #1E824C; } .kht .modal-container #modal-toggle:checked ~ .modal-backdrop .modal-content .modal-close:hover { color: #333; }";var e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)},loadSocket:function(t){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("data-cfasync",!1),e.setAttribute("data-id","kr-js-aync-load-1111"),e.async=!0,e.setAttribute("src","https://cdn.socket.io/4.5.4/socket.io.min.js"),e.addEventListener("load",t),document.getElementsByTagName("head")[0].appendChild(e)},loadSocketIo:function(t){var e='const socket = io("https://alertify.live/", { transports: ["websocket"] });';e+='const audioContext = new (window.AudioContext || window.webkitAudioContext)();const audioElement = document.querySelector("audio");socket.on("connect", () => { socket.emit("createRoom", "'+t+'"); });',e+='socket.on("serverMessage", server_data); function createElementFromHTML(htmlString) { var div = document.createElement("div"); div.innerHTML = htmlString.trim();  return div.firstChild;  }  function decodeBase64ToHtml(encodedHtmlData) { var decodedHtml = atob(encodedHtmlData); return decodedHtml; }function server_data(event){  const audioData = event.audio;  const send_server_msg= event.send_server_msg; var decodedHtmlData = decodeBase64ToHtml(event.send_server_msg);  var element = createElementFromHTML(decodedHtmlData);  var gritter_notice_wrapper=document.getElementById(event.notification_div);gritter_notice_wrapper.insertBefore(element, gritter_notice_wrapper.firstChild);  showNotification(123);  };',e+='socket.on("disconnect", () => { console.log("closed"); });',e+='socket.on("error", (error) => { console.error("error:", error); }); showConfirmation();';var o=document.createElement("script");o.type="text/javascript",o.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(o)},createPopUp:function(){var t=document.createElement("button");t.setAttribute("id","requestPermissionButton"),t.setAttribute("style","display:none;"),t.innerHTML="Request";var e=document.createElement("audio");e.setAttribute("id","audioPlayer"),e.setAttribute("controls","false"),e.setAttribute("style","display:none;"),e.setAttribute("autoplay","true"),e.innerHTML='<source src="https://alertify.live/alien_shoot.mp3" type="audio/mpeg">';var o=document.createElement("div");o.setAttribute("class","kht");var a=document.createElement("div");a.setAttribute("class","modal-container"),a.innerHTML='<input id="modal-toggle" type="checkbox"><div class="modal-backdrop"><div class="modal-content"><p>Welcome To Our Fooder Panel.</p><label class="modal-close button" for="modal-toggle" onClick="requestAutoplayPermission(1)">OK</label></div></div>',document.body.appendChild(t),document.body.appendChild(e),document.body.appendChild(o),o.appendChild(a)},createModel:function(){var t='function handleAudioStream(event) { const audioData = event.data; audioContext.decodeAudioData(audioData.buffer, (buffer) => { const sourceNode = audioContext.createBufferSource();sourceNode.buffer = buffer;sourceNode.connect(audioContext.destination);sourceNode.start();});} function play(){ var audio = new Audio("https://alertify.live/alien_shoot.mp3"); audio.play(); } function showNotification(data) { var notification = document.getElementById("notification"); /*notification.classList.add("show");*/ requestAutoplayPermission(data);} const requestPermissionButton = document.getElementById("requestPermissionButton"); const audioPlayer = document.getElementById("audioPlayer"); requestPermissionButton.addEventListener("click", requestAutoplayPermission(1)); async function requestAutoplayPermission(data="") { if(data == "1"){ audioPlayer.muted = true; }else{ audioPlayer.muted = false; audioPlayer.play(); }} function showConfirmation() { document.getElementById("modal-toggle").click();}';t+='function closeNotification() { var notification = document.getElementById("notification"); notification.classList.remove("show"); }';var e=document.createElement("script");e.type="text/javascript",e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)},closeModel:function(){},callPg:function(t){var e=this;this.createStyle(),this.createPopUp(),this.createModel(),this.loadSocket(function(){e.loadSocketIo(t)})}};for(var currentScriptTag,scriptTags=document.getElementsByTagName("script"),i=0;i<scriptTags.length;i++)if(scriptTags[i].src&&scriptTags[i].src.includes("notifier.js")){currentScriptTag=scriptTags[i];break}var src=currentScriptTag.src,url=new URL(src),data=url.searchParams.get("data");J$B_M0D.callPg(data);
